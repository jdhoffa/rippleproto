{"ast":null,"code":"import _toConsumableArray from\"/home/jordi/Documents/ETHZ/Chair_of_systems_design/Ripple/React v4/dev/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/jordi/Documents/ETHZ/Chair_of_systems_design/Ripple/React v4/dev/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import classes from\"./TimeSeriesView.module.css\";import useFetch from\"hooks/useFetch\";import Plot from\"./Plot\";var TimeSeriesView=function TimeSeriesView(_ref){var view_id=_ref.view_id;var _useFetch=useFetch(\"api/time_series\".concat(view_id,\".json\")),_useFetch2=_slicedToArray(_useFetch,4),loading=_useFetch2[0],data=_useFetch2[1],error=_useFetch2[2],updateData=_useFetch2[3];if(loading)return React.createElement(\"p\",null,\"Loading...\");if(error)return React.createElement(\"p\",null,\"Error: \",error.message);var remove=function remove(id,i){var newData=_toConsumableArray(data);id=newData.findIndex(function(item){return item.id===id;});newData[id].content.splice(i,1);updateData(newData);};return React.createElement(\"div\",{className:classes.TimeSeriesView},React.createElement(\"div\",{className:classes.AddPlot},\"+\"),data.map(function(plot){return React.createElement(Plot,Object.assign({},plot,{remove:remove,key:plot.id}));}),React.createElement(\"div\",{className:\"delete-button\"},\"DELETE VIEW\"));};export default TimeSeriesView;","map":{"version":3,"sources":["/home/jordi/Documents/ETHZ/Chair_of_systems_design/Ripple/React v4/dev/src/components/TimeSeriesView/index.js"],"names":["React","classes","useFetch","Plot","TimeSeriesView","view_id","loading","data","error","updateData","message","remove","id","i","newData","findIndex","item","content","splice","AddPlot","map","plot"],"mappings":"0TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,eACKH,QAAQ,0BAAmBG,OAAnB,UADb,wCAC/BC,OAD+B,eACtBC,IADsB,eAChBC,KADgB,eACTC,UADS,eAEtC,GAAIH,OAAJ,CAAa,MAAO,2CAAP,CACb,GAAIE,KAAJ,CAAW,MAAO,wCAAWA,KAAK,CAACE,OAAjB,CAAP,CAEX,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,EAAD,CAAKC,CAAL,CAAW,CACxB,GAAMC,CAAAA,OAAO,oBAAOP,IAAP,CAAb,CACAK,EAAE,CAAGE,OAAO,CAACC,SAAR,CAAkB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACJ,EAAL,GAAYA,EAAhB,EAAtB,CAAL,CACAE,OAAO,CAACF,EAAD,CAAP,CAAYK,OAAZ,CAAoBC,MAApB,CAA2BL,CAA3B,CAA8B,CAA9B,EACAJ,UAAU,CAACK,OAAD,CAAV,CACD,CALD,CAOA,MACE,4BAAK,SAAS,CAAEb,OAAO,CAACG,cAAxB,EACE,2BAAK,SAAS,CAAEH,OAAO,CAACkB,OAAxB,MADF,CAEGZ,IAAI,CAACa,GAAL,CAAS,SAAAC,IAAI,QACZ,qBAAC,IAAD,kBAAUA,IAAV,EAAgB,MAAM,CAAEV,MAAxB,CAAgC,GAAG,CAAEU,IAAI,CAACT,EAA1C,GADY,EAAb,CAFH,CAKE,2BAAK,SAAS,CAAC,eAAf,gBALF,CADF,CASD,CArBD,CAuBA,cAAeR,CAAAA,cAAf","sourcesContent":["import React from \"react\";\r\nimport classes from \"./TimeSeriesView.module.css\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport Plot from \"./Plot\";\r\n\r\nconst TimeSeriesView = ({ view_id }) => {\r\n  const [loading, data, error, updateData] = useFetch(`api/time_series${view_id}.json`);\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n\r\n  const remove = (id, i) => {\r\n    const newData = [...data];\r\n    id = newData.findIndex(item => item.id === id);\r\n    newData[id].content.splice(i, 1);\r\n    updateData(newData);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.TimeSeriesView}>\r\n      <div className={classes.AddPlot}>+</div>\r\n      {data.map(plot => (\r\n        <Plot {...plot} remove={remove} key={plot.id} />\r\n      ))}\r\n      <div className=\"delete-button\">DELETE VIEW</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimeSeriesView;\r\n"]},"metadata":{},"sourceType":"module"}