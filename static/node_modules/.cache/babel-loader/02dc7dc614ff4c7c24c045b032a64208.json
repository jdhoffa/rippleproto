{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import classes from\"./styles/Handler.module.css\";var Handler=function Handler(_ref){var vertical=_ref.vertical;var startPos=useRef(null);var oldSize=useRef(null);var handlerRef=useRef(null);useEffect(function(){var handler=handlerRef.current;var parent=handler.parentElement;var relatedElem=handler.previousElementSibling;var parentSize=vertical?parent.clientWidth:parent.clientHeight;var mouseDown=function mouseDown(ev){startPos.current=vertical?ev.clientX:ev.clientY;oldSize.current=vertical?relatedElem.clientWidth:relatedElem.clientHeight;};var mouseMove=function mouseMove(ev){if(startPos.current!==null){var diff=(vertical?ev.clientX:ev.clientY)-startPos.current;// Calculate the new Value\nvar newSize=oldSize.current+diff;var minVal=0.3*parentSize;var maxVal=0.7*parentSize;if(newSize<minVal)newSize=minVal;if(newSize>maxVal)newSize=maxVal;// Replace old percent with new one and apply the style\nvar template=\"minmax(min-content, \".concat(newSize,\"px) 4px auto\");parent.style.gridTemplate=\"\".concat(template,\" / \").concat(template);}};var mouseUp=function mouseUp(){startPos.current=null;oldSize.current=null;};handler.addEventListener(\"mousedown\",mouseDown);window.addEventListener(\"mousemove\",mouseMove);window.addEventListener(\"mouseup\",mouseUp);return function(){handler.removeEventListener(\"mousedown\",mouseDown);window.removeEventListener(\"mousemove\",mouseMove);window.removeEventListener(\"mouseup\",mouseUp);};});return React.createElement(\"div\",{className:\"\".concat(classes.Handler,\" handler-\").concat(vertical?\"cols\":\"rows\"),ref:handlerRef});};export default Handler;","map":{"version":3,"sources":["/home/jordi/Documents/ETHZ/Chair_of_systems_design/Ripple/React v4/static/src/components/MainView/Handler.js"],"names":["React","useRef","useEffect","classes","Handler","vertical","startPos","oldSize","handlerRef","handler","current","parent","parentElement","relatedElem","previousElementSibling","parentSize","clientWidth","clientHeight","mouseDown","ev","clientX","clientY","mouseMove","diff","newSize","minVal","maxVal","template","style","gridTemplate","mouseUp","addEventListener","window","removeEventListener"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAChC,GAAMC,CAAAA,QAAQ,CAAGL,MAAM,CAAC,IAAD,CAAvB,CACA,GAAMM,CAAAA,OAAO,CAAGN,MAAM,CAAC,IAAD,CAAtB,CACA,GAAMO,CAAAA,UAAU,CAAGP,MAAM,CAAC,IAAD,CAAzB,CAEAC,SAAS,CAAC,UAAM,CACd,GAAMO,CAAAA,OAAO,CAAGD,UAAU,CAACE,OAA3B,CACA,GAAMC,CAAAA,MAAM,CAAGF,OAAO,CAACG,aAAvB,CACA,GAAMC,CAAAA,WAAW,CAAGJ,OAAO,CAACK,sBAA5B,CACA,GAAMC,CAAAA,UAAU,CAAGV,QAAQ,CAAGM,MAAM,CAACK,WAAV,CAAwBL,MAAM,CAACM,YAA1D,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,EAAE,CAAI,CACtBb,QAAQ,CAACI,OAAT,CAAmBL,QAAQ,CAAGc,EAAE,CAACC,OAAN,CAAgBD,EAAE,CAACE,OAA9C,CACAd,OAAO,CAACG,OAAR,CAAkBL,QAAQ,CAAGQ,WAAW,CAACG,WAAf,CAA6BH,WAAW,CAACI,YAAnE,CACD,CAHD,CAKA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAH,EAAE,CAAI,CACtB,GAAIb,QAAQ,CAACI,OAAT,GAAqB,IAAzB,CAA+B,CAC7B,GAAMa,CAAAA,IAAI,CAAG,CAAClB,QAAQ,CAAGc,EAAE,CAACC,OAAN,CAAgBD,EAAE,CAACE,OAA5B,EAAuCf,QAAQ,CAACI,OAA7D,CAEA;AACA,GAAIc,CAAAA,OAAO,CAAGjB,OAAO,CAACG,OAAR,CAAkBa,IAAhC,CACA,GAAIE,CAAAA,MAAM,CAAG,IAAMV,UAAnB,CACA,GAAIW,CAAAA,MAAM,CAAG,IAAMX,UAAnB,CACA,GAAIS,OAAO,CAAGC,MAAd,CAAsBD,OAAO,CAAGC,MAAV,CACtB,GAAID,OAAO,CAAGE,MAAd,CAAsBF,OAAO,CAAGE,MAAV,CAEtB;AACA,GAAMC,CAAAA,QAAQ,+BAA0BH,OAA1B,gBAAd,CACAb,MAAM,CAACiB,KAAP,CAAaC,YAAb,WAA+BF,QAA/B,eAA6CA,QAA7C,EACD,CACF,CAfD,CAiBA,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBxB,QAAQ,CAACI,OAAT,CAAmB,IAAnB,CACAH,OAAO,CAACG,OAAR,CAAkB,IAAlB,CACD,CAHD,CAKAD,OAAO,CAACsB,gBAAR,CAAyB,WAAzB,CAAsCb,SAAtC,EACAc,MAAM,CAACD,gBAAP,CAAwB,WAAxB,CAAqCT,SAArC,EACAU,MAAM,CAACD,gBAAP,CAAwB,SAAxB,CAAmCD,OAAnC,EACA,MAAO,WAAM,CACXrB,OAAO,CAACwB,mBAAR,CAA4B,WAA5B,CAAyCf,SAAzC,EACAc,MAAM,CAACC,mBAAP,CAA2B,WAA3B,CAAwCX,SAAxC,EACAU,MAAM,CAACC,mBAAP,CAA2B,SAA3B,CAAsCH,OAAtC,EACD,CAJD,CAKD,CAzCQ,CAAT,CA0CA,MACE,4BAAK,SAAS,WAAK3B,OAAO,CAACC,OAAb,qBAAgCC,QAAQ,CAAG,MAAH,CAAY,MAApD,CAAd,CAA4E,GAAG,CAAEG,UAAjF,EADF,CAGD,CAlDD,CAoDA,cAAeJ,CAAAA,OAAf","sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport classes from \"./styles/Handler.module.css\";\r\n\r\nconst Handler = ({ vertical }) => {\r\n  const startPos = useRef(null);\r\n  const oldSize = useRef(null);\r\n  const handlerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handler = handlerRef.current;\r\n    const parent = handler.parentElement;\r\n    const relatedElem = handler.previousElementSibling;\r\n    const parentSize = vertical ? parent.clientWidth : parent.clientHeight;\r\n\r\n    const mouseDown = ev => {\r\n      startPos.current = vertical ? ev.clientX : ev.clientY;\r\n      oldSize.current = vertical ? relatedElem.clientWidth : relatedElem.clientHeight;\r\n    };\r\n\r\n    const mouseMove = ev => {\r\n      if (startPos.current !== null) {\r\n        const diff = (vertical ? ev.clientX : ev.clientY) - startPos.current;\r\n\r\n        // Calculate the new Value\r\n        let newSize = oldSize.current + diff;\r\n        let minVal = 0.3 * parentSize;\r\n        let maxVal = 0.7 * parentSize;\r\n        if (newSize < minVal) newSize = minVal;\r\n        if (newSize > maxVal) newSize = maxVal;\r\n\r\n        // Replace old percent with new one and apply the style\r\n        const template = `minmax(min-content, ${newSize}px) 4px auto`;\r\n        parent.style.gridTemplate = `${template} / ${template}`;\r\n      }\r\n    };\r\n\r\n    const mouseUp = () => {\r\n      startPos.current = null;\r\n      oldSize.current = null;\r\n    };\r\n\r\n    handler.addEventListener(\"mousedown\", mouseDown);\r\n    window.addEventListener(\"mousemove\", mouseMove);\r\n    window.addEventListener(\"mouseup\", mouseUp);\r\n    return () => {\r\n      handler.removeEventListener(\"mousedown\", mouseDown);\r\n      window.removeEventListener(\"mousemove\", mouseMove);\r\n      window.removeEventListener(\"mouseup\", mouseUp);\r\n    };\r\n  });\r\n  return (\r\n    <div className={`${classes.Handler} handler-${vertical ? \"cols\" : \"rows\"}`} ref={handlerRef} />\r\n  );\r\n};\r\n\r\nexport default Handler;\r\n"]},"metadata":{},"sourceType":"module"}